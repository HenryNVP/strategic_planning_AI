@startuml architecture_simplified
title Strategic Planning AI â€“ Simplified View

skinparam shadowing false
skinparam defaultFontName Arial
skinparam defaultFontSize 11
skinparam packageStyle rectangle
skinparam rectangle {
  BorderColor #000000
  BorderThickness 1
}

rectangle "Client Layer\n(UI + Integrations)" as CLIENT {
  rectangle "Web Dashboard\nMock Tester UI" as UI
  rectangle "External Consumers" as EXT
}

rectangle "Service Layer\n(Microservices)" as SERVICE {
  rectangle "Agent Service\n(Port 8000)\norchestration, APIs, tools" as AGENT_SVC
  rectangle "RAG Service\n(Port 8080)\ndocument processing, search" as RAG_SVC
  rectangle "Analysis Service\n(Port 8090)\nstrategic workflows" as ANALYSIS_SVC
}

rectangle "Knowledge / Data Layer\n(Storage)" as KNOWLEDGE {
  rectangle "Vector Store\n(Postgres + pgvector)" as VSTORE
  rectangle "Knowledge Graph\n(Neo4j)" as KGRAPH
}

database "Postgres + pgvector\n(sessions, vectors, state)" as DB
database "Neo4j\n(entities, relationships)" as NEO4J
cloud "LLM Provider\n(OpenAI)" as LLM
cloud "Observability\n(Prometheus, Grafana, Langfuse)" as OBS

CLIENT --> SERVICE : chat, uploads, queries
SERVICE --> KNOWLEDGE : RAG search, document upload
SERVICE --> DB : sessions, checkpoints
KNOWLEDGE --> DB : vector storage
KNOWLEDGE --> NEO4J : graph storage
SERVICE --> LLM : prompt completions
SERVICE --> OBS : metrics & traces

@enduml
